{"version":3,"file":"index.js","mappings":"iCAAAA,EAAOC,QAAUC,QAAQ,M,sBCAzBF,EAAOC,QAAUC,QAAQ,O,eCIzB,IAAIC,EAAM,EAAQ,IACdC,EAAO,EAAQ,KAQnBH,EAAUD,EAAOC,QAAU,EAAjB,MACFI,KA4NR,SAAeC,GACbA,EAAMC,YAAc,CAAC,EAGrB,IADA,IAAIC,EAAOC,OAAOD,KAAKP,EAAQM,aACtBG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAMC,YAAYC,EAAKE,IAAMT,EAAQM,YAAYC,EAAKE,GAE1D,EAlOAT,EAAQW,IAgHR,WACE,OAAOC,EAAOC,MAAMV,EAAKW,OAAOC,MAAMZ,EAAMa,WAAa,KAC3D,EAjHAhB,EAAQiB,WA2FR,SAAoBC,GAClB,IAAIC,EAAOC,KAAKC,UAGhB,GAFgBD,KAAKE,UAEN,CACb,IAAIC,EAAIH,KAAKI,MACTC,EAAS,QAAeF,EAAI,MAAQJ,EAA3B,QAEbD,EAAK,GAAKO,EAASP,EAAK,GAAGQ,MAAM,MAAMC,KAAK,KAAOF,GACnDP,EAAKU,KAAK,MAAaL,EAAI,KAAOvB,EAAQ6B,SAAST,KAAKU,MAAQ,OAClE,MACEZ,EAAK,IAAK,IAAIa,MAAOC,cACjB,IAAMb,EAAO,IAAMD,EAAK,EAEhC,EAxGAlB,EAAQiC,KAyHR,SAAcC,GACR,MAAQA,SAGHC,QAAQC,IAAIC,MAEnBF,QAAQC,IAAIC,MAAQH,CAExB,EAhIAlC,EAAQsC,KAAOA,EACftC,EAAQsB,UAuDR,WACE,MAAO,WAAYtB,EAAQM,YACvBiC,QAAQvC,EAAQM,YAAYkC,QAC5BtC,EAAIuC,OAAOC,EACjB,EArDA1C,EAAQwC,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAQjCxC,EAAQM,YAAcE,OAAOD,KAAK4B,QAAQC,KAAKO,OAAO,SAAUC,GAC9D,MAAO,WAAWC,KAAKD,EACzB,GAAGE,OAAO,SAAUC,EAAKH,GAEvB,IAAII,EAAOJ,EACRK,UAAU,GACVC,cACAC,QAAQ,YAAa,SAAUC,EAAGC,GAAK,OAAOA,EAAEC,aAAc,GAG7DC,EAAMpB,QAAQC,IAAIQ,GAOtB,OAN0CW,IAAtC,2BAA2BV,KAAKU,KAC3B,6BAA6BV,KAAKU,KAC1B,SAARA,EAAsB,KACpBC,OAAOD,IAElBR,EAAIC,GAAQO,EACLR,CACT,EAAG,CAAC,GASJ,IAAIL,EAAKe,SAAStB,QAAQC,IAAIsB,SAAU,KAAO,EAE3C,IAAMhB,GAAM,IAAMA,GACpBvC,EAAKwD,UAAU,WAAW,EAAG,0KAA7BxD,GAGF,IAAIS,EAAS,IAAM8B,EAAKP,QAAQyB,OACnB,IAAMlB,EAAKP,QAAQ0B,OAmGhC,SAAoCnB,GAClC,IAAI9B,EAKJ,OAJeuB,QAAQ2B,QAAQ,YAIdC,gBAAgBrB,IAC/B,IAAK,OACH9B,EAAS,IAAIV,EAAI8D,YAAYtB,IACtBuB,MAAQ,MAIXrD,EAAOsD,SAAWtD,EAAOsD,QAAQC,OACnCvD,EAAOsD,QAAQC,QAEjB,MAEF,IAAK,QAEHvD,EAAS,IADA,EAAQ,KACDwD,iBAAgB1B,EAAI,CAAE2B,WAAW,KAC1CJ,MAAQ,KACf,MAEF,IAAK,OACL,IAAK,OAEHrD,EAAS,IADC,EAAQ,KACD0D,QAAO,CACtB5B,GAAIA,EACJ6B,UAAU,EACVC,UAAU,KAOLD,UAAW,EAClB3D,EAAO6D,KAAO,KACd7D,EAAOqD,MAAQ,OAIXrD,EAAOsD,SAAWtD,EAAOsD,QAAQC,OACnCvD,EAAOsD,QAAQC,QAEjB,MAEF,QAEE,MAAM,IAAIO,MAAM,2CAQpB,OAJA9D,EAAO8B,GAAKA,EAEZ9B,EAAO+D,UAAW,EAEX/D,CACT,CA7JagE,CAA0BlC,GAuFvC,SAASJ,IACP,OAAOH,QAAQC,IAAIC,KACrB,CAzEArC,EAAQ6E,WAAWC,EAAI,SAASC,GAE9B,OADA3D,KAAKd,YAAYkC,OAASpB,KAAKE,UACxBnB,EAAK6E,QAAQD,EAAG3D,KAAKd,aACzBoB,MAAM,MAAMuD,IAAI,SAASC,GACxB,OAAOA,EAAIC,MACb,GAAGxD,KAAK,IACZ,EAMA3B,EAAQ6E,WAAWO,EAAI,SAASL,GAE9B,OADA3D,KAAKd,YAAYkC,OAASpB,KAAKE,UACxBnB,EAAK6E,QAAQD,EAAG3D,KAAKd,YAC9B,EAoJAN,EAAQqF,OAAO/C,I,uBCvPfvC,EAAOC,QAAUC,QAAQ,W,uBCAzBF,EAAOC,QAAUC,QAAQ,M,gBCAzB,IAAIqF,EAAO,EAAQ,KACfC,EAAQ,aACRlF,EAAQ,EAAQ,IAAR,CAAiB,6BACzBmF,EAAM,WAENC,EAAM,SAASvE,EAAMwE,GACvB,IAAIC,EAAYL,EAAKM,QAAQN,EAAKO,QAAQ1D,QAAQ2D,UAAW,KAAM,cACnEzF,EAAM,+BAAgCsF,EAAWzE,GACjDqE,EAAMI,EAAWzE,EAAM,CACrB6E,UAAU,IACTC,GAAG,QAASN,EACjB,EAwBA3F,EAAOC,QAtBK,WACV,GAAyB,UAArBmC,QAAQ8D,SAAsB,CAChC,IAAIC,EAAM/D,QAAQgE,KAAK,GACvB9F,EAAM,mCAAoC6F,GAC1C,IAAIE,EAASd,EAAKe,SAASlE,QAAQ2D,UAEnC,GAAY,uBAARI,GAAwC,uBAARA,EAElC,OADAT,EAAI,CAAC,oBAAsBW,GAAcZ,EAAIc,OACtC,EAET,GAAY,yBAARJ,EAEF,OADAT,EAAI,CAAC,oBAAsBW,GAAcZ,EAAIc,OACtC,EAET,GAAY,wBAARJ,EAEF,OADAV,EAAIc,QACG,CAEX,CACA,OAAO,CACT,CAEiBC,E,uBCnCjBxG,EAAOC,QAAUC,QAAQ,gB,UCIzB,IAAIuG,EAAI,IACJC,EAAQ,GAAJD,EACJE,EAAQ,GAAJD,EACJE,EAAQ,GAAJD,EAwIR,SAASE,EAAOC,EAAIC,EAAG3F,GACrB,KAAI0F,EAAKC,GAGT,OAAID,EAAS,IAAJC,EACAC,KAAKC,MAAMH,EAAKC,GAAK,IAAM3F,EAE7B4F,KAAKE,KAAKJ,EAAKC,GAAK,IAAM3F,EAAO,GAC1C,CA/HApB,EAAOC,QAAU,SAASuD,EAAK2D,GAC7BA,EAAUA,GAAW,CAAC,EACtB,IAyGeL,EAzGXM,SAAc5D,EAClB,GAAa,WAAT4D,GAAqB5D,EAAI7C,OAAS,EACpC,OAkBJ,SAAewE,GAEb,MADAA,EAAMkC,OAAOlC,IACLxE,OAAS,KAAjB,CAGA,IAAI2G,EAAQ,wHAAwHC,KAClIpC,GAEF,GAAKmC,EAAL,CAGA,IAAIP,EAAIS,WAAWF,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAMnE,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAzDEyD,SAyDKG,EACT,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOA,EAAIH,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOG,EAAIJ,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOI,EAAIL,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOK,EAAIN,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOM,EACT,QACE,OAvCJ,CANA,CA+CF,CArEWU,CAAMjE,GACR,GAAa,WAAT4D,IAAoC,IAAfM,MAAMlE,GACpC,OAAO2D,EAAQQ,KAsGVd,EADQC,EArGiBtD,EAsGdoD,EAAG,QACnBC,EAAOC,EAAIH,EAAG,SACdE,EAAOC,EAAIJ,EAAG,WACdG,EAAOC,EAAIL,EAAG,WACdK,EAAK,MA7BT,SAAkBA,GAChB,OAAIA,GAAMF,EACDI,KAAKY,MAAMd,EAAKF,GAAK,IAE1BE,GAAMH,EACDK,KAAKY,MAAMd,EAAKH,GAAK,IAE1BG,GAAMJ,EACDM,KAAKY,MAAMd,EAAKJ,GAAK,IAE1BI,GAAML,EACDO,KAAKY,MAAMd,EAAKL,GAAK,IAEvBK,EAAK,IACd,CA3FyCe,CAASrE,GAEhD,MAAM,IAAImB,MACR,wDACEmD,KAAKC,UAAUvE,GAErB,C,gBC/BuB,oBAAZpB,SAA4C,aAAjBA,QAAQgF,KAC5CpH,EAAOC,QAAU,EAAjB,KAEAD,EAAOC,QAAU,EAAjB,G,gBC6IF,SAASsC,IACP,IAAIyF,EACJ,IACEA,EAAI/H,EAAQgI,QAAQ3H,KACtB,CAAE,MAAM4H,GAAI,CAOZ,OAJKF,GAAwB,oBAAZ5F,SAA2B,QAASA,UACnD4F,EAAI5F,QAAQC,IAAIC,OAGX0F,CACT,EA3JA/H,EAAUD,EAAOC,QAAU,EAAjB,MACFW,IA8GR,WAGE,MAAO,iBAAoBuH,SACtBA,QAAQvH,KACRwH,SAASC,UAAUrH,MAAMsH,KAAKH,QAAQvH,IAAKuH,QAASlH,UAC3D,EAnHAhB,EAAQiB,WAqER,SAAoBC,GAClB,IAAII,EAAYF,KAAKE,UASrB,GAPAJ,EAAK,IAAMI,EAAY,KAAO,IAC1BF,KAAKC,WACJC,EAAY,MAAQ,KACrBJ,EAAK,IACJI,EAAY,MAAQ,KACrB,IAAMtB,EAAQ6B,SAAST,KAAKU,MAE3BR,EAAL,CAEA,IAAIC,EAAI,UAAYH,KAAKI,MACzBN,EAAKoH,OAAO,EAAG,EAAG/G,EAAG,kBAKrB,IAAIgH,EAAQ,EACRC,EAAQ,EACZtH,EAAK,GAAGiC,QAAQ,cAAe,SAASkE,GAClC,OAASA,IACbkB,IACI,OAASlB,IAGXmB,EAAQD,GAEZ,GAEArH,EAAKoH,OAAOE,EAAO,EAAGjH,EApBA,CAqBxB,EAnGAvB,EAAQiC,KA2HR,SAAcC,GACZ,IACM,MAAQA,EACVlC,EAAQgI,QAAQS,WAAW,SAE3BzI,EAAQgI,QAAQ3H,MAAQ6B,CAE5B,CAAE,MAAM+F,GAAI,CACd,EAlIAjI,EAAQsC,KAAOA,EACftC,EAAQsB,UA2BR,WAIE,QAAsB,oBAAXoH,SAA0BA,OAAOvG,SAAmC,aAAxBuG,OAAOvG,QAAQgF,QAM1C,oBAAbwB,UAA4BA,SAASC,iBAAmBD,SAASC,gBAAgBC,OAASF,SAASC,gBAAgBC,MAAMC,kBAEnH,oBAAXJ,QAA0BA,OAAOR,UAAYQ,OAAOR,QAAQa,SAAYL,OAAOR,QAAQc,WAAaN,OAAOR,QAAQe,QAGrG,oBAAdC,WAA6BA,UAAUC,WAAaD,UAAUC,UAAUjG,cAAcmE,MAAM,mBAAqB5D,SAAS2F,OAAOC,GAAI,KAAO,IAE9H,oBAAdH,WAA6BA,UAAUC,WAAaD,UAAUC,UAAUjG,cAAcmE,MAAM,sBACxG,EA5CArH,EAAQgI,QAAU,oBAAsBsB,aACtB,IAAsBA,OAAOtB,QAC3BsB,OAAOtB,QAAQuB,MAsKnC,WACE,IACE,OAAOb,OAAOc,YAChB,CAAE,MAAOvB,GAAI,CACf,CAzKoBwB,GAMpBzJ,EAAQwC,OAAS,CACf,gBACA,cACA,YACA,aACA,aACA,WAmCFxC,EAAQ6E,WAAW6E,EAAI,SAAS3E,GAC9B,IACE,OAAO8C,KAAKC,UAAU/C,EACxB,CAAE,MAAO4E,GACP,MAAO,+BAAiCA,EAAIC,OAC9C,CACF,EAmGA5J,EAAQqF,OAAO/C,I,uBCvKfvC,EAAOC,QAAUC,QAAQ,K,gBCkCzB,IAAI4J,EA4BJ,SAASC,EAAYzI,GAEnB,SAAShB,IAEP,GAAKA,EAAM0J,QAAX,CAEA,IAAIC,EAAO3J,EAGP4J,GAAQ,IAAIlI,KACZ8E,EAAKoD,GAAQJ,GAAYI,GAC7BD,EAAKlI,KAAO+E,EACZmD,EAAKE,KAAOL,EACZG,EAAKC,KAAOA,EACZJ,EAAWI,EAIX,IADA,IAAI/I,EAAO,IAAIiJ,MAAMnJ,UAAUN,QACtBD,EAAI,EAAGA,EAAIS,EAAKR,OAAQD,IAC/BS,EAAKT,GAAKO,UAAUP,GAGtBS,EAAK,GAAKlB,EAAQoK,OAAOlJ,EAAK,IAE1B,iBAAoBA,EAAK,IAE3BA,EAAKmJ,QAAQ,MAIf,IAAI9B,EAAQ,EACZrH,EAAK,GAAKA,EAAK,GAAGiC,QAAQ,gBAAiB,SAASkE,EAAOvG,GAEzD,GAAc,OAAVuG,EAAgB,OAAOA,EAC3BkB,IACA,IAAI+B,EAAYtK,EAAQ6E,WAAW/D,GACnC,GAAI,mBAAsBwJ,EAAW,CACnC,IAAI/G,EAAMrC,EAAKqH,GACflB,EAAQiD,EAAUjC,KAAK2B,EAAMzG,GAG7BrC,EAAKoH,OAAOC,EAAO,GACnBA,GACF,CACA,OAAOlB,CACT,GAGArH,EAAQiB,WAAWoH,KAAK2B,EAAM9I,IAElBb,EAAMM,KAAOX,EAAQW,KAAOuH,QAAQvH,IAAI4J,KAAKrC,UACnDnH,MAAMiJ,EAAM9I,EA/CQ,CAgD5B,CAYA,OAVAb,EAAMgB,UAAYA,EAClBhB,EAAM0J,QAAU/J,EAAQ+J,QAAQ1I,GAChChB,EAAMiB,UAAYtB,EAAQsB,YAC1BjB,EAAMmB,MA5ER,SAAqBH,GACnB,IAAcZ,EAAV+J,EAAO,EAEX,IAAK/J,KAAKY,EACRmJ,GAAUA,GAAQ,GAAKA,EAAQnJ,EAAUoJ,WAAWhK,GACpD+J,GAAQ,EAGV,OAAOxK,EAAQwC,OAAOuE,KAAK2D,IAAIF,GAAQxK,EAAQwC,OAAO9B,OACxD,CAmEgBiK,CAAYtJ,GAGtB,mBAAsBrB,EAAQI,MAChCJ,EAAQI,KAAKC,GAGRA,CACT,EAvHAL,EAAUD,EAAOC,QAAU8J,EAAYzJ,MAAQyJ,EAAqB,QAAIA,GAChEM,OA6LR,SAAgB7G,GACd,OAAIA,aAAemB,MAAcnB,EAAIqH,OAASrH,EAAIqG,QAC3CrG,CACT,EA/LAvD,EAAQ6K,QAyJR,WACE7K,EAAQqF,OAAO,GACjB,EA1JArF,EAAQqF,OA8HR,SAAgBnD,GACdlC,EAAQiC,KAAKC,GAEblC,EAAQ8K,MAAQ,GAChB9K,EAAQ+K,MAAQ,GAKhB,IAHA,IAAIrJ,GAA+B,iBAAfQ,EAA0BA,EAAa,IAAIR,MAAM,UACjEsJ,EAAMtJ,EAAMhB,OAEPD,EAAI,EAAGA,EAAIuK,EAAKvK,IAClBiB,EAAMjB,KAEW,OADtByB,EAAaR,EAAMjB,GAAG0C,QAAQ,MAAO,QACtB,GACbnD,EAAQ+K,MAAMnJ,KAAK,IAAIwH,OAAO,IAAMlH,EAAW+I,OAAO,GAAK,MAE3DjL,EAAQ8K,MAAMlJ,KAAK,IAAIwH,OAAO,IAAMlH,EAAa,MAGvD,EA/IAlC,EAAQ+J,QAmKR,SAAiB5I,GACf,IAAIV,EAAGuK,EACP,IAAKvK,EAAI,EAAGuK,EAAMhL,EAAQ+K,MAAMrK,OAAQD,EAAIuK,EAAKvK,IAC/C,GAAIT,EAAQ+K,MAAMtK,GAAGoC,KAAK1B,GACxB,OAAO,EAGX,IAAKV,EAAI,EAAGuK,EAAMhL,EAAQ8K,MAAMpK,OAAQD,EAAIuK,EAAKvK,IAC/C,GAAIT,EAAQ8K,MAAMrK,GAAGoC,KAAK1B,GACxB,OAAO,EAGX,OAAO,CACT,EA/KAnB,EAAQ6B,SAAW,EAAnB,KAMA7B,EAAQ8K,MAAQ,GAChB9K,EAAQ+K,MAAQ,GAQhB/K,EAAQ6E,WAAa,CAAC,C,uBC5BtB9E,EAAOC,QAAUC,QAAQ,O,GCCrBiL,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAarL,QAGrB,IAAID,EAASmL,EAAyBE,GAAY,CAGjDpL,QAAS,CAAC,GAOX,OAHAuL,EAAoBH,GAAUrL,EAAQA,EAAOC,QAASmL,GAG/CpL,EAAOC,OACf,C,yCCtBA,MAAM,EAA+BC,QAAQ,WCAvC,EAA+BA,QAAQ,eC2JhCuL,EAAmB,IAvJzB,MAGLC,WAAAA,GACErK,KAAKsK,SAAWpG,EAAAA,KAAUE,EAAAA,IAAImG,QAAQ,YAAa,QACrD,CAKA,gBAAMC,GACJ,UACQC,EAAAA,OAAUzK,KAAKsK,SACvB,CAAE,MAAOI,SAEDD,EAAAA,MAASzK,KAAKsK,SAAU,CAAEK,WAAW,IAC3C7D,QAAQvH,IAAI,2BAA4BS,KAAKsK,SAC/C,CACF,CAKAM,eAAAA,GACE,MAAO,GAAGjK,KAAKkK,SAASlF,KAAKmF,SAASC,SAAS,IAAIlB,OAAO,EAAG,IAC/D,CAOA,mBAAMmB,CAAcC,SACZjL,KAAKwK,aAGX,UACQC,EAAAA,OAAUQ,EAClB,CAAE,MAAOP,GACP,MAAM,IAAIpH,MAAM,yBAAyB2H,IAC3C,CAIA,UAD2BjL,KAAKkL,kBAAkBD,GAEhD,MAAM,IAAI3H,MAAM,8BAA8B2H,KAIhD,MAAME,EAAUnL,KAAK4K,kBAEfQ,EAAmB,GAAGD,IADZjH,EAAAA,QAAa+G,GAAYnJ,gBAEnCuJ,EAAenH,EAAAA,KAAUlE,KAAKsK,SAAUc,GAM9C,aAHMX,EAAAA,SAAYQ,EAAYI,GAE9BvE,QAAQvH,IAAI,sBAAsB0L,QAAiBI,KAC5C,CAAEC,GAAIH,EAASE,aAAcD,EACtC,CAMA,qBAAMG,CAAgBC,GACpB,MAAMC,EAAWvH,EAAAA,KAAUlE,KAAKsK,SAAUkB,GAE1C,UACQf,EAAAA,OAAUgB,GAChB3E,QAAQvH,IAAI,uBAAuBkM,IACrC,CAAE,MAAOf,GAEP5D,QAAQ4E,KAAK,gCAAgCD,IAAYf,EAC3D,CACF,CAOA,uBAAMQ,CAAkBS,GACtB,MACMC,EAAU1H,EAAAA,QAAayH,GAAU7J,cAGvC,IAJ4B,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAIpC+J,SAASD,GAChC,OAAO,EAIT,IACE,MAAME,QAAcrB,EAAAA,KAAQkB,GAC5B,OAAOG,EAAMC,UAAYD,EAAME,KAAO,CACxC,CAAE,MAAOtB,GACP,OAAO,CACT,CACF,CAOAuB,gBAAAA,CAAiBN,GAUf,MAR0C,CACxC,OAAQ,aACR,OAAQ,YACR,OAAQ,YACR,OAAQ,YACR,OAAQ,aANEzH,EAAAA,QAAayH,GAAU7J,gBASV,YAC3B,CAOAoK,gBAAAA,CAAiBV,GACf,OAAOtH,EAAAA,KAAUlE,KAAKsK,SAAUkB,EAClC,CAOA,qBAAMW,CAAgBX,GACpB,IACE,MAAMC,EAAWzL,KAAKkM,iBAAiBV,GAEvC,aADMf,EAAAA,OAAUgB,IACT,CACT,CAAE,MAAOf,GACP,OAAO,CACT,CACF,CAKA0B,iBAAAA,GACE,OAAOpM,KAAKsK,QACd,GC5IF,IAAI+B,EACAC,EALAzN,EAAQ,MACVuF,EAAAA,IAAIc,OAMN,MAAMqH,EAAeA,KAEnBF,EAAa,IAAIG,EAAAA,cAAc,CAC7BC,OAAQ,IACRC,MAAO,KACPC,UAAW,IACXC,SAAU,IACVC,cAAe,cACfC,eAAgB,CACdC,iBAAiB,EACjBC,kBAAkB,EAClBC,QAAS/I,EAAAA,KAAUgJ,UAAW,iBAShCb,EAAWc,SAASjJ,EAAAA,KAAUgJ,UAAW,4BA6I7C9I,EAAAA,IAAIgJ,YAAYC,KAAK,KACnBd,IA1ImBe,MACnB,MAAMC,EAASrJ,EAAAA,KAAUE,EAAAA,IAAImG,QAAQ,YAAa,iBAClD+B,EAAW,IAAIkB,EAAAA,SAASD,GAGxBjB,EAASmB,UAAU,KACjBnB,EAASjI,IAAI,8SAabiI,EAASjI,IAAI,8mBAqBbiI,EAASjI,IAAI,waAabiI,EAASjI,IAAI,2HAKTkE,IAciBmF,MAbfnF,EACFzB,QAAQ4D,MAAM,iCAAkCnC,IAY/BmF,EATD,KAEdC,KAQR7G,QAAQvH,IAAI,uCAGZ+M,EAASsB,IAAI,2BAA4B,CAACrF,EAAKsF,KAC7C,GAAItF,EAGF,OAFAzB,QAAQ4D,MAAM,6BAA8BnC,QAC5CmF,IAIF,MAAMI,EAAgBD,EAAKE,KAAKC,GAAoB,SAAbA,EAAIjO,MACrCkO,EAA0BJ,EAAKE,KAAKC,GAAoB,qBAAbA,EAAIjO,MAC/CmO,EAA0BL,EAAKE,KAAKC,GAAoB,qBAAbA,EAAIjO,MAErD,IAAIoO,EAAmB,EACnBC,EAAsB,EAE1B,MAAMC,EAAoBA,KACxBD,IACIA,IAAwBD,IAC1BrH,QAAQvH,IAAI,gCACZmO,MAKCI,IACHK,IACA7B,EAASjI,IAAI,wDAA0DkE,IACjEA,EAAKzB,QAAQ4D,MAAM,4BAA6BnC,GAC/CzB,QAAQvH,IAAI,oCACjB8O,OAKCJ,IACHE,IACA7B,EAASjI,IAAI,qDAAuDkE,IAC9DA,EAAKzB,QAAQ4D,MAAM,wCAAyCnC,GAC3DzB,QAAQvH,IAAI,gDACjB8O,OAKCH,IACHC,IACA7B,EAASjI,IAAI,qDAAuDkE,IAC9DA,EAAKzB,QAAQ4D,MAAM,wCAAyCnC,GAC3DzB,QAAQvH,IAAI,gDACjB8O,OAKqB,IAArBF,IACFrH,QAAQvH,IAAI,iCACZmO,aAQJJ,GAEAlJ,EAAAA,IAAIQ,GAAG,WAAY,KAC4B,IAAzC4H,EAAAA,cAAc8B,gBAAgBhP,QAChCiN,QAMNnI,EAAAA,IAAIQ,GAAG,oBAAqB,KACD,WAArB7D,QAAQ8D,UACVT,EAAAA,IAAIc,SAKRqJ,EAAAA,QAAQC,OAAO,eAAgB,IACtB,IAAIC,QAAQ,CAACjK,EAASkK,KAC3BpC,EAASsB,IAAI,+CAAgD,CAACrF,EAAKsF,KACjE,GAAItF,EAAKmG,EAAOnG,OACX,CAEH,MAAMoG,EAAQd,EAAKhK,IAAKmK,IAAQ,IAC3BA,EACHY,KAAMnI,KAAKL,MAAM4H,EAAIY,MAAQ,MAC7BC,UAAW,IAAIlO,KAAKqN,EAAIc,YACxBC,UAAW,IAAIpO,KAAKqN,EAAIgB,YACxBC,UAAWjB,EAAIkB,cAEjB1K,EAAQmK,EACV,OAKNJ,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAOC,IAChC,IAAIX,QAAQ,CAACjK,EAASkK,KAC3B,MAAMW,EAAO/C,EAASgD,QAAQ,oIAK9BD,EAAKhL,IAAI,CACP+K,EAAK9D,GACL8D,EAAKrP,KACLqP,EAAKG,YACLH,EAAKI,MACL/I,KAAKC,UAAU0I,EAAKR,MACpBjO,KAAKkK,MACLlK,KAAKkK,OACJ,SAAStC,GACNA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAE8G,GAAI8D,EAAK9D,IAC1B,GAEA+D,EAAKI,cAITlB,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAO7D,EAAIoE,IACpC,IAAIjB,QAAQ,CAACjK,EAASkK,KAC3B,MAAMiB,EAAS,GACTC,EAAS,QAEM1F,IAAjBwF,EAAQ3P,OACV4P,EAAOnP,KAAK,YACZoP,EAAOpP,KAAKkP,EAAQ3P,YAEMmK,IAAxBwF,EAAQH,cACVI,EAAOnP,KAAK,mBACZoP,EAAOpP,KAAKkP,EAAQH,mBAEArF,IAAlBwF,EAAQF,QACVG,EAAOnP,KAAK,aACZoP,EAAOpP,KAAKkP,EAAQF,aAEDtF,IAAjBwF,EAAQd,OACVe,EAAOnP,KAAK,YACZoP,EAAOpP,KAAKiG,KAAKC,UAAUgJ,EAAQd,QAGrCe,EAAOnP,KAAK,kBACZoP,EAAOpP,KAAKG,KAAKkK,OACjB+E,EAAOpP,KAAK8K,GAEZ,MAAM+D,EAAO/C,EAASgD,QAAQ,4BACTK,EAAOpP,KAAK,4BAGjC8O,EAAKhL,IAAIuL,EAAQ,SAASrH,GACpBA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAEqL,QAAS7P,KAAK6P,SAC/B,GAEAR,EAAKI,cAITlB,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAO7D,IAChC,IAAImD,QAAQ,CAACjK,EAASkK,KAE3BpC,EAASjI,IAAI,sCAAuC,CAACiH,GAAM/C,IACrDA,EACFmG,EAAOnG,GAKT+D,EAASjI,IAAI,iCAAkC,CAACiH,GAAK,SAAS/C,GACxDA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAEqL,QAAS7P,KAAK6P,SAC/B,QAKNtB,EAAAA,QAAQC,OAAO,eAAgB,CAACW,EAAOW,IAC9B,IAAIrB,QAAQ,CAACjK,EAASkK,KAC3BpC,EAASsB,IAAI,iEAAkE,CAACkC,GAAS,CAACvH,EAAKsF,KAC7F,GAAItF,EAAKmG,EAAOnG,OACX,CAEH,MAAMwH,EAAQlC,EAAKhK,IAAKmK,IAAQ,IAC3BA,EACH8B,OAAQ9B,EAAIgC,QACZjK,KAAMiI,EAAIjI,MAAQ,OAClBkK,eAAgBjC,EAAIkC,iBACpBC,eAAgBnC,EAAIoC,iBACpBxB,KAAMnI,KAAKL,MAAM4H,EAAIY,MAAQ,MAC7BC,UAAW,IAAIlO,KAAKqN,EAAIc,YACxBC,UAAW,IAAIpO,KAAKqN,EAAIgB,YACxBqB,YAAarC,EAAIsC,aAAe,IAAI3P,KAAKqN,EAAIsC,mBAAgBpG,EAC7DqG,WAAYvC,EAAIwC,YAChBC,WAAYzC,EAAI0C,eAElBlM,EAAQuL,EACV,OAKNxB,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAOwB,IAChC,IAAIlC,QAAQ,CAACjK,EAASkK,KAC3B,MAAMW,EAAO/C,EAASgD,QAAQ,+OAK9BD,EAAKhL,IAAI,CACPsM,EAAKrF,GACLqF,EAAKb,OACLa,EAAKC,OAAS,KACdD,EAAKE,KACLF,EAAK5K,MAAQ,OACb4K,EAAKV,gBAAkB,KACvBU,EAAKR,gBAAkB,KACvB1J,KAAKC,UAAUiK,EAAK/B,MACpBjO,KAAKkK,MACLlK,KAAKkK,MACL8F,EAAKJ,YAAc,EACnBI,EAAKG,YAAc,EACnBH,EAAKI,UAAY,EACjBJ,EAAKF,YAAc,KAClB,SAASlI,GACNA,EACFmG,EAAOnG,GAKT+D,EAASjI,IACP,4EACA,CAAC1D,KAAKkK,MAAO8F,EAAKb,QACjBvH,IACKA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAE8G,GAAIqF,EAAKrF,MAG9B,GAEA+D,EAAKI,cAITlB,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAO7D,EAAIoE,IACpC,IAAIjB,QAAQ,CAACjK,EAASkK,KAC3B,MAAMiB,EAAS,GACTC,EAAS,QAEO1F,IAAlBwF,EAAQkB,QACVjB,EAAOnP,KAAK,aACZoP,EAAOpP,KAAKkP,EAAQkB,aAED1G,IAAjBwF,EAAQmB,OACVlB,EAAOnP,KAAK,YACZoP,EAAOpP,KAAKkP,EAAQmB,YAED3G,IAAjBwF,EAAQ3J,OACV4J,EAAOnP,KAAK,YACZoP,EAAOpP,KAAKkP,EAAQ3J,YAESmE,IAA3BwF,EAAQO,iBACVN,EAAOnP,KAAK,wBACZoP,EAAOpP,KAAKkP,EAAQO,sBAES/F,IAA3BwF,EAAQS,iBACVR,EAAOnP,KAAK,wBACZoP,EAAOpP,KAAKkP,EAAQS,sBAEDjG,IAAjBwF,EAAQd,OACVe,EAAOnP,KAAK,YACZoP,EAAOpP,KAAKiG,KAAKC,UAAUgJ,EAAQd,aAET1E,IAAxBwF,EAAQW,cACVV,EAAOnP,KAAK,oBACZoP,EAAOpP,KAAKkP,EAAQW,uBAAuB1P,KAAO+O,EAAQW,YAAYW,UAAYtB,EAAQW,mBAEjEnG,IAAvBwF,EAAQa,aACVZ,EAAOnP,KAAK,mBACZoP,EAAOpP,KAAKkP,EAAQa,kBAEKrG,IAAvBwF,EAAQoB,aACVnB,EAAOnP,KAAK,kBACZoP,EAAOpP,KAAKkP,EAAQoB,kBAEG5G,IAArBwF,EAAQqB,WACVpB,EAAOnP,KAAK,gBACZoP,EAAOpP,KAAKkP,EAAQqB,gBAEK7G,IAAvBwF,EAAQe,aACVd,EAAOnP,KAAK,mBACZoP,EAAOpP,KAAKkP,EAAQe,aAGtBd,EAAOnP,KAAK,kBACZoP,EAAOpP,KAAKG,KAAKkK,OACjB+E,EAAOpP,KAAK8K,GAEZ,MAAM+D,EAAO/C,EAASgD,QAAQ,4BACTK,EAAOpP,KAAK,4BAGjC8O,EAAKhL,IAAIuL,EAAQ,SAASrH,GACpBA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAEqL,QAAS7P,KAAK6P,SAC/B,GAEAR,EAAKI,cAITlB,EAAAA,QAAQC,OAAO,iBAAkB,CAACW,EAAO7D,IAChC,IAAImD,QAAQ,CAACjK,EAASkK,KAE3BpC,EAAS2E,IAAI,yCAA0C,CAAC3F,GAAK,CAAC/C,EAAKyF,KACjE,GAAIzF,EAEF,YADAmG,EAAOnG,GAIT,IAAKyF,EAEH,YADAxJ,EAAQ,CAAEqL,QAAS,IAIrB,MAAMC,EAAS9B,EAAIgC,QAGnB1D,EAASjI,IAAI,iCAAkC,CAACiH,GAAK,SAAS/C,GACxDA,EACFmG,EAAOnG,GAKT+D,EAASjI,IACP,4EACA,CAAC1D,KAAKkK,MAAOiF,GACZvH,IACKA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAEqL,QAAS7P,KAAK6P,WAGnC,QAKNtB,EAAAA,QAAQC,OAAO,wBAAyB,CAACW,EAAOW,IACvC,IAAIrB,QAAQ,CAACjK,EAASkK,KAC3B,MAAMwC,EAAQpB,EACV,0EACA,wDACEqB,EAASrB,EAAS,CAACA,GAAU,GAEnCxD,EAASsB,IAAIsD,EAAOC,EAAQ,CAAC5I,EAAKsF,KAChC,GAAItF,EAAKmG,EAAOnG,OACX,CACH,MAAM6I,EAAWvD,EAAKhK,IAAKmK,IAAQ,IAC9BA,EACH8B,OAAQ9B,EAAIgC,QACZqB,OAAQrD,EAAIsD,QACZC,aAAcvD,EAAIwD,cAClBC,UAAW,IAAI9Q,KAAKqN,EAAI0D,eAE1BlN,EAAQ4M,EACV,OAKN7C,EAAAA,QAAQC,OAAO,0BAA2B,CAACW,EAAOwC,IACzC,IAAIlD,QAAQ,CAACjK,EAASkK,KAC3B,MAAMW,EAAO/C,EAASgD,QAAQ,2IAK9BD,EAAKhL,IAAI,CACPsN,EAAQrG,GACRqG,EAAQ7B,OACR6B,EAAQN,OACRM,EAAQC,WACRD,EAAQJ,aACR5Q,KAAKkK,OACJ,SAAStC,GACNA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAE8G,GAAIqG,EAAQrG,IAC7B,GAEA+D,EAAKI,cAITlB,EAAAA,QAAQC,OAAO,kBAAmB,IACzB,IAAIC,QAAQ,CAACjK,EAASkK,KAC3BpC,EAASsB,IAAI,yBAA0B,CAACrF,EAAKsF,KAC3C,GAAItF,EAAKmG,EAAOnG,OACX,CACH,MAAMsJ,EAAgC,CAAC,EACvChE,EAAKiE,QAAS9D,IACZ,IACE6D,EAAS7D,EAAIxM,KAAOiF,KAAKL,MAAM4H,EAAI+D,MACrC,CAAE,MACAF,EAAS7D,EAAIxM,KAAOwM,EAAI+D,KAC1B,IAEFvN,EAAQqN,EACV,OAKNtD,EAAAA,QAAQC,OAAO,oBAAqB,CAACW,EAAO3N,EAAKuQ,IACxC,IAAItD,QAAQ,CAACjK,EAASkK,KAC3B,MAAMW,EAAO/C,EAASgD,QAAQ,4EAI9BD,EAAKhL,IAAI,CAAC7C,EAAKiF,KAAKC,UAAUqL,IAAS,SAASxJ,GAC1CA,EAAKmG,EAAOnG,GACX/D,EAAQ,CAAEhD,MAAKuQ,SACtB,GAEA1C,EAAKI,cAKTlB,EAAAA,QAAQC,OAAO,oBAAqBwD,MAAO7C,EAAOlE,KAChD,IACE,MAAMgH,QAAe7H,EAAiBY,cAAcC,GACpD,MAAO,CAAEiH,SAAS,EAAM/G,QAAS8G,EAAO3G,GAAID,aAAc4G,EAAO5G,aACnE,CAAE,MAAOX,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,8BAEpD,IAGF+F,EAAAA,QAAQC,OAAO,oBAAqBwD,MAAO7C,EAAO3D,KAChD,IAEE,aADMpB,EAAiBmB,gBAAgBC,GAChC,CAAE0G,SAAS,EACpB,CAAE,MAAOxH,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,8BAEpD,IAGF+F,EAAAA,QAAQC,OAAO,sBAAuBwD,MAAO7C,EAAOxD,KAClD,IAEE,MAAO,CAAEuG,SAAS,EAAMC,cADF/H,EAAiBc,kBAAkBS,GAE3D,CAAE,MAAOjB,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,gCAEpD,IAGF+F,EAAAA,QAAQC,OAAO,sBAAuBwD,MAAO7C,EAAO3D,KAClD,IAGE,MAAO,CAAE0G,SAAS,EAAMzG,SAFPrB,EAAiB8B,iBAAiBV,GAEjB4G,aADbhI,EAAiB+B,gBAAgBX,GAExD,CAAE,MAAOd,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,gCAEpD,IAIF,MAuSM6J,EAAmBL,MAAOjS,EAAcyP,EAAe8C,IACpD,IAAI7D,QAAQ,CAACjK,EAASkK,KAE3BpC,EAAS2E,IAAI,sCAAuC,CAAClR,GAAO,CAACwI,EAAKyF,KAChE,GAAIzF,EAEF,YADAmG,EAAOnG,GAIT,GAAIyF,EAEF,YADAxJ,EAAQwJ,EAAI1C,IAKd,MAAMwE,EAASnP,KAAKkK,MAAME,WAAa,IAAMpF,KAAKmF,SAASC,SAAS,IAAIlB,OAAO,EAAG,GAC5EwF,EAAO/C,EAASgD,QAAQ,yJAK9BD,EAAKhL,IAAI,CACPyL,EACA/P,EACA,oBACAyP,EACA/I,KAAKC,UAAU,IACf/F,KAAKkK,MACLlK,KAAKkK,MACL,GACC,SAAStC,GACNA,EACFmG,EAAOnG,IAEP+J,EAAQC,aAAa/R,KAAKT,GAC1ByE,EAAQsL,GAEZ,GAEAT,EAAKI,eAKL+C,EAAuBR,MAAOlC,EAAgBc,EAAeC,EAAcjC,EAAgBkC,EAAoBC,EAAkBR,EAAoBxK,EAAe,OAAQkK,EAAyBE,IAClM,IAAI1B,QAAQ,CAACjK,EAASkK,KAC3B,MAAM2C,EAAS1Q,KAAKkK,MAAME,WAAa,IAAMpF,KAAKmF,SAASC,SAAS,IAAIlB,OAAO,EAAG,GAC5EwF,EAAO/C,EAASgD,QAAQ,+OAK9BD,EAAKhL,IAAI,CACPgN,EACAvB,EACAc,GAAS,KACTC,EACA9K,EACAkK,GAAkB,KAClBE,GAAkB,KAClB1J,KAAKC,UAAUkI,GACfjO,KAAKkK,MACLlK,KAAKkK,MACL0F,EACAO,EACAC,EACA,KACC,SAASxI,GACNA,EACFmG,EAAOnG,GAKT+D,EAASjI,IACP,4EACA,CAAC1D,KAAKkK,MAAOiF,GACZvH,IACKA,EAAKmG,EAAOnG,GACX/D,KAGX,GAEA6K,EAAKI,aAKTlB,EAAAA,QAAQC,OAAO,aAAcwD,MAAO7C,EAAOW,KACzC,IACE,MAAM2C,EAAW3C,QAAe4C,EAAY5C,GAAU,YAChDmC,QAAeU,EAAAA,OAAOC,eAAevG,EAAY,CACrDwG,YAAa,GAAGJ,QAChBK,QAAS,CACP,CAAE/S,KAAM,YAAagT,WAAY,CAAC,QAClC,CAAEhT,KAAM,YAAagT,WAAY,CAAC,SAItC,IAAKd,EAAOe,UAAYf,EAAOtG,SAC7B,IACE,MAAMsH,OA3WUjB,UACf,IAAIvD,QAAQ,CAACjK,EAASkK,KAC3B,MAAMwC,EAAQpB,EACV,kLAIA,2JAIEqB,EAASrB,EAAS,CAACA,GAAU,GAEnCxD,EAASsB,IAAIsD,EAAOC,EAAQ,CAAC5I,EAAKsF,KAChC,GAAItF,EAEF,YADAmG,EAAOnG,GAIT,MAAM2K,EAAoB,GAGtBpD,EACFoD,EAAQ1S,KAAK,0FAEb0S,EAAQ1S,KAAK,+GAIfqN,EAAKiE,QAAS9D,IACZ,MAAMY,EAAOnI,KAAKL,MAAM4H,EAAIY,MAAQ,MAAMrO,KAAK,KACzC4S,EAAWnF,EAAIjI,MAAQ,OACvB6K,EAAQ5C,EAAI4C,OAAS,GACrBwC,EAAiBpF,EAAIkC,kBAAoB,GACzCC,EAAiBnC,EAAIoC,kBAAoB,GAOzCiD,GALSvD,EACX,CAACqD,EAAUvC,EAAOwC,EAAgBjD,EAAgBnC,EAAI6C,KAAMjC,EAAMZ,EAAI8C,WAAW/F,WAAYiD,EAAI+C,SAAShG,WAAYiD,EAAIwC,YAAYzF,YACtI,CAACiD,EAAIsF,UAAWtF,EAAIuF,YAAc,GAAIJ,EAAUvC,EAAOwC,EAAgBjD,EAAgBnC,EAAI6C,KAAMjC,EAAMZ,EAAI8C,WAAW/F,WAAYiD,EAAI+C,SAAShG,WAAYiD,EAAIwC,YAAYzF,aAGrJlH,IAAI2P,IAC5B,MAAM1P,EAAMkC,OAAOwN,GACnB,OAAI1P,EAAI+H,SAAS,MAAQ/H,EAAI+H,SAAS,MAAQ/H,EAAI+H,SAAS,MAClD,IAAI/H,EAAI/B,QAAQ,KAAM,SAExB+B,IAGToP,EAAQ1S,KAAK6S,EAAW9S,KAAK,QAG/BiE,EAAQ0O,EAAQ3S,KAAK,WAuTGkT,CAAgB3D,GAEtC,aADMrF,EAAAA,UAAawH,EAAOtG,SAAUsH,EAAS,SACtC,CAAEf,SAAS,EAAMvG,SAAUsG,EAAOtG,SAC3C,CAAE,MAAOjB,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,uBAEpD,CAEF,MAAO,CAAE0J,SAAS,EAAOxH,MAAO,mBAClC,CAAE,MAAOA,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,gBAEpD,IAGF+F,EAAAA,QAAQC,OAAO,aAAcwD,MAAO7C,EAAOuE,KACzC,IACE,MAAMzB,QAAeU,EAAAA,OAAOgB,eAAetH,EAAY,CACrDyG,QAAS,CACP,CAAE/S,KAAM,YAAagT,WAAY,CAAC,QAClC,CAAEhT,KAAM,YAAagT,WAAY,CAAC,OAEpCa,WAAY,CAAC,cAGf,IAAK3B,EAAOe,UAAYf,EAAO4B,UAAUvU,OAAS,EAAG,CACnD,MAAMwU,OAhVc9B,OAAOrG,EAAkB+H,KACjD,IACE,MAAMK,QAAgBtJ,EAAAA,SAAYkB,EAAU,SAGtCqI,EAAmBC,IACvB,MAAMpG,EAAmB,GACzB,IAAIqG,EAAuB,GACvBC,EAAe,GACfC,GAAW,EACX/U,EAAI,EAER,KAAOA,EAAI4U,EAAW3U,QAAQ,CAC5B,MAAM+U,EAAOJ,EAAW5U,GAClBiV,EAAWL,EAAW5U,EAAI,GAEnB,MAATgV,EACED,GAAyB,MAAbE,GAEdH,GAAgB,IAChB9U,GAAK,IAGL+U,GAAYA,EACZ/U,KAEgB,MAATgV,GAAiBD,EAKR,OAATC,GAAkBD,GAST,OAATC,IAKTF,GAAgBE,GAHhBhV,MATA6U,EAAW1T,KAAK2T,EAAapQ,QACzBmQ,EAAWnG,KAAKyF,GAASA,EAAMlU,OAAS,IAC1CuO,EAAKrN,KAAK0T,GAEZA,EAAa,GACbC,EAAe,GACf9U,MAXA6U,EAAW1T,KAAK2T,EAAapQ,QAC7BoQ,EAAe,GACf9U,IAkBJ,CAUA,OAPI8U,EAAapQ,QAAUmQ,EAAW5U,OAAS,KAC7C4U,EAAW1T,KAAK2T,EAAapQ,QACzBmQ,EAAWnG,KAAKyF,GAASA,EAAMlU,OAAS,IAC1CuO,EAAKrN,KAAK0T,IAIPrG,GAGHA,EAAOmG,EAAgBD,GAE7B,GAAIlG,EAAKvO,OAAS,EAChB,MAAM,IAAIgE,MAAM,yDAGlB,MAAMiR,EAAU1G,EAAK,GAAGhK,IAAIyB,GAAKA,EAAExD,cAAciC,QAC3CuO,EAAU,CACdJ,SAAS,EACTsC,SAAU,EACVC,OAAQ,GACRlC,aAAc,IAIVmC,EAAYH,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,SAEpD,IAAmB,IAAf6I,EACF,MAAM,IAAIpR,MAAM,gCAIlB,MAAMsR,EAAYL,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,SAC9CgJ,EAAaN,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,WAAavG,EAAEuG,SAAS,UACvEiJ,EAAsBP,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,UAAYvG,EAAEuG,SAAS,UAAYvG,EAAEuG,SAAS,SACtGkJ,EAAsBR,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,UAAYvG,EAAEuG,SAAS,UAAYvG,EAAEuG,SAAS,SACtGmJ,EAAYT,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,QAC9CoJ,EAAgBV,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,SAAWvG,EAAEuG,SAAS,SACxEqJ,EAAiBX,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,SAAWvG,EAAEuG,SAAS,UACzEsJ,EAAkBZ,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,eACpDuJ,EAAgBb,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,aAClDwJ,EAAkBd,EAAQI,UAAUrP,GAAKA,EAAEuG,SAAS,UAAYvG,EAAEuG,SAAS,UAGjF,IAAK,IAAIxM,EAAI,EAAGA,EAAIwO,EAAKvO,OAAQD,IAC/B,IACE,MAAM2O,EAAMH,EAAKxO,GAEjB,GAAI2O,EAAI1O,OAASoV,EAAY,EAAG,CAC9BpC,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,2BAC/B,QACF,CAEA,MAAMwR,EAAO7C,EAAI0G,IAAY3Q,OAC7B,IAAK8M,EAAM,CACTyB,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,uBAC/B,QACF,CAGA,MAAM8T,EAAWyB,GAAa,GAAK5G,EAAI4G,IAAY7Q,QAAoB,OACjE6M,EAAQiE,GAAc,GAAK7G,EAAI6G,IAAa9Q,QAAgB,GAC5DqP,EAAiB0B,GAAuB,GAAK9G,EAAI8G,IAAsB/Q,QAAgB,GACvFoM,EAAiB4E,GAAuB,GAAK/G,EAAI+G,IAAsBhR,QAAgB,GAG7F,GAAiB,SAAboP,IAAwBvC,EAAO,CACjC0B,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,oCAC/B,QACF,CACA,IAAkB,UAAb8T,GAAqC,UAAbA,KAA0BC,EAAgB,CACrEd,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,iDAC/B,QACF,CACA,GAAiB,UAAb8T,IAAyBvC,EAAO,CAClC0B,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,oDAC/B,QACF,CAGA,IAAIyQ,EAAS4D,EAEb,IAAK5D,GAAUmF,GAAiB,EAAG,CACjC,MAAMxC,EAAWzE,EAAIiH,IAAgBlR,OACrC,IAAI0O,EAEG,CACLH,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,wBAC/B,QACF,CAJEyQ,QAAeuC,EAAiBI,EAAUzE,EAAIkH,IAAiBnR,QAAU,KAAMuO,EAKnF,MAAO,IAAKxC,EAAQ,CAClBwC,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,+BAC/B,QACF,CAGA,MAAMuP,EAAOoG,GAAa,GAAKhH,EAAIgH,IAAY1U,MAAM,KAAKiB,OAAO+T,GAAKA,EAAEvR,SAAiB,GAGnF+M,EAAaqE,GAAmB,GAAIhP,WAAW6H,EAAImH,KAAyB,EAC5EpE,EAAWqE,GAAiB,GAAI/S,SAAS2L,EAAIoH,KAAuB,EACpE7E,EAAa8E,GAAmB,GAAIhT,SAAS2L,EAAIqH,KAAyB,EAGhF,IAAIE,EAAiB,GACjBC,EAAiBrF,EAErB,IAAkB,UAAbgD,GAAqC,UAAbA,IAAyBC,EACpD,IAEE,MAAMqC,EAASvR,EAAAA,QAAayH,GAC5B,IAAI+J,EAAgBtC,EAGflP,EAAAA,WAAgBwR,KACnBA,EAAgBxR,EAAAA,QAAauR,EAAQC,IAKvCH,SAD0BnL,EAAiBY,cAAc0K,IAC5BrK,aAGxBmK,IACHA,EAAiBtR,EAAAA,SAAcwR,IAGjC5O,QAAQvH,IAAI,wBAAwBmW,QAAoBH,IAC1D,CAAE,MAAOI,GACPrD,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,yBAAyBsW,aAAsBrS,MAAQqS,EAAWnN,QAAU,mBAC3G,QACF,OAIIgK,EAAqB1C,EAAQc,EAAOC,EAAMjC,EAAMkC,EAAYC,EAAUR,EAAY4C,EAAUoC,EAAgBC,GAClHlD,EAAQkC,UAEV,CAAE,MAAO9J,GACP4H,EAAQmC,OAAOjU,KAAK,OAAOnB,EAAI,MAAMqL,aAAiBpH,MAAQoH,EAAMlC,QAAU,kBAChF,CAGF,OAAO8J,CAET,CAAE,MAAO5H,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,uBAEpD,GAuI+BoN,CAAkB3D,EAAO4B,UAAU,GAAIH,GAClE,OAAOI,CACT,CACA,MAAO,CAAE5B,SAAS,EAAOxH,MAAO,mBAClC,CAAE,MAAOA,GACP,MAAO,CACLwH,SAAS,EACTxH,MAAOA,aAAiBpH,MAAQoH,EAAMlC,QAAU,gBAEpD,IAGF,MAAMkK,EAAcV,SACX,IAAIvD,QAAQ,CAACjK,EAASkK,KAC3BpC,EAAS2E,IAAI,sCAAuC,CAACnB,GAAS,CAACvH,EAAKyF,KAClE,GAAIzF,EACFmG,EAAOnG,QACF,GAAIyF,EAAK,CAEd,MAAM6H,EAAW7H,EAAIjO,KAAKgC,QAAQ,gBAAiB,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,SAAU,IAC9FyC,EAAQqR,GAAY,OACtB,MACErR,EAAQ,YAOVmJ,EAAeA,KACnBrB,EAAS2E,IAAI,sCAAuC,CAAC1I,EAAKyF,KACxD,GAAIzF,EACFzB,QAAQ4D,MAAM,6BAA8BnC,QAI9C,GAAkB,IAAdyF,EAAI8H,MAAa,CACnBhP,QAAQvH,IAAI,wCAEZ,MAAMwW,EAAc,CAClB,CACEzK,GAAI,IACJvL,KAAM,qBACNwP,YAAa,sCACbC,MAAO,OACPZ,KAAM,CAAC,WAAY,YAErB,CACEtD,GAAI,IACJvL,KAAM,gBACNwP,YAAa,0BACbC,MAAO,KACPZ,KAAM,CAAC,UAAW,aAIhBoH,EAAc,CAClB,CACE1K,GAAI,IACJwE,OAAQ,IACRc,MAAO,QACPC,KAAM,OACNjC,KAAM,CAAC,cAET,CACEtD,GAAI,IACJwE,OAAQ,IACRc,MAAO,YACPC,KAAM,UACNjC,KAAM,CAAC,cAET,CACEtD,GAAI,IACJwE,OAAQ,IACRc,MAAO,UACPC,KAAM,QACNjC,KAAM,CAAC,cAET,CACEtD,GAAI,IACJwE,OAAQ,IACRc,MAAO,OACPC,KAAM,yBACNjC,KAAM,CAAC,UAET,CACEtD,GAAI,IACJwE,OAAQ,IACRc,MAAO,MACPC,KAAM,sDACNjC,KAAM,CAAC,cAKLqH,EAAW3J,EAASgD,QAAQ,yJAKlCyG,EAAYjE,QAAQ1C,IAClB,MAAMH,EAAY+G,EAAYzU,OAAOoP,GAAQA,EAAKb,SAAWV,EAAK9D,IAAIhM,OACtE2W,EAAS5R,IAAI,CACX+K,EAAK9D,GACL8D,EAAKrP,KACLqP,EAAKG,YACLH,EAAKI,MACL/I,KAAKC,UAAU0I,EAAKR,MACpBjO,KAAKkK,MACLlK,KAAKkK,MACLoE,MAGJgH,EAASxG,WAGT,MAAMyG,EAAW5J,EAASgD,QAAQ,kMAKlC0G,EAAYlE,QAAQnB,IAClBuF,EAAS7R,IAAI,CACXsM,EAAKrF,GACLqF,EAAKb,OACLa,EAAKC,MACLD,EAAKE,KACLpK,KAAKC,UAAUiK,EAAK/B,MACpBjO,KAAKkK,MACLlK,KAAKkK,MACL,EACA,EACA,EACA,QAGJqL,EAASzG,WAET3I,QAAQvH,IAAI,kCACd,KAIJ6E,EAAAA,IAAIQ,GAAG,cAAe,KAChB0H,GACFA,EAAS6J,S","sources":["webpack://dear-bones/external node-commonjs \"tty\"","webpack://dear-bones/external node-commonjs \"util\"","webpack://dear-bones/./node_modules/debug/src/node.js","webpack://dear-bones/external node-commonjs \"electron\"","webpack://dear-bones/external node-commonjs \"net\"","webpack://dear-bones/./node_modules/electron-squirrel-startup/index.js","webpack://dear-bones/external node-commonjs \"child_process\"","webpack://dear-bones/./node_modules/ms/index.js","webpack://dear-bones/./node_modules/debug/src/index.js","webpack://dear-bones/./node_modules/debug/src/browser.js","webpack://dear-bones/external node-commonjs \"fs\"","webpack://dear-bones/./node_modules/debug/src/debug.js","webpack://dear-bones/external node-commonjs \"path\"","webpack://dear-bones/webpack/bootstrap","webpack://dear-bones/external commonjs \"sqlite3\"","webpack://dear-bones/external node-commonjs \"fs/promises\"","webpack://dear-bones/./src/utils/audioFileService.ts","webpack://dear-bones/./src/main/index.ts"],"sourcesContent":["module.exports = require(\"tty\");","module.exports = require(\"util\");","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","module.exports = require(\"electron\");","module.exports = require(\"net\");","var path = require('path');\nvar spawn = require('child_process').spawn;\nvar debug = require('debug')('electron-squirrel-startup');\nvar app = require('electron').app;\n\nvar run = function(args, done) {\n  var updateExe = path.resolve(path.dirname(process.execPath), '..', 'Update.exe');\n  debug('Spawning `%s` with args `%s`', updateExe, args);\n  spawn(updateExe, args, {\n    detached: true\n  }).on('close', done);\n};\n\nvar check = function() {\n  if (process.platform === 'win32') {\n    var cmd = process.argv[1];\n    debug('processing squirrel command `%s`', cmd);\n    var target = path.basename(process.execPath);\n\n    if (cmd === '--squirrel-install' || cmd === '--squirrel-updated') {\n      run(['--createShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-uninstall') {\n      run(['--removeShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-obsolete') {\n      app.quit();\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = check();\n","module.exports = require(\"child_process\");","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","module.exports = require(\"fs\");","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"sqlite3\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"fs/promises\");","import * as fs from 'fs/promises';\nimport * as path from 'path';\nimport { app } from 'electron';\n\nexport class AudioFileService {\n  private audioDir: string;\n\n  constructor() {\n    this.audioDir = path.join(app.getPath('userData'), 'audio');\n  }\n\n  /**\n   * Initialize the audio directory\n   */\n  async initialize(): Promise<void> {\n    try {\n      await fs.access(this.audioDir);\n    } catch (error) {\n      // Directory doesn't exist, create it\n      await fs.mkdir(this.audioDir, { recursive: true });\n      console.log('Created audio directory:', this.audioDir);\n    }\n  }\n\n  /**\n   * Generate a unique audio file ID\n   */\n  generateAudioId(): string {\n    return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Copy an audio file to the app's audio directory\n   * @param sourcePath - Path to the source audio file\n   * @returns Object with the new file ID and internal path\n   */\n  async copyAudioFile(sourcePath: string): Promise<{id: string, internalPath: string}> {\n    await this.initialize();\n    \n    // Validate that the file exists\n    try {\n      await fs.access(sourcePath);\n    } catch (error) {\n      throw new Error(`Audio file not found: ${sourcePath}`);\n    }\n\n    // Validate audio file format\n    const isValidAudio = await this.validateAudioFile(sourcePath);\n    if (!isValidAudio) {\n      throw new Error(`Invalid audio file format: ${sourcePath}`);\n    }\n\n    // Generate unique ID and get file extension\n    const audioId = this.generateAudioId();\n    const fileExt = path.extname(sourcePath).toLowerCase();\n    const internalFileName = `${audioId}${fileExt}`;\n    const internalPath = path.join(this.audioDir, internalFileName);\n\n    // Copy the file\n    await fs.copyFile(sourcePath, internalPath);\n    \n    console.log(`Copied audio file: ${sourcePath} -> ${internalPath}`);\n    return { id: audioId, internalPath: internalFileName }; // Return relative path for storage\n  }\n\n  /**\n   * Delete an audio file from the app's audio directory\n   * @param audioFileName - The internal filename (e.g., \"123456_abc123.mp3\")\n   */\n  async deleteAudioFile(audioFileName: string): Promise<void> {\n    const fullPath = path.join(this.audioDir, audioFileName);\n    \n    try {\n      await fs.unlink(fullPath);\n      console.log(`Deleted audio file: ${fullPath}`);\n    } catch (error) {\n      // File might already be deleted or not exist\n      console.warn(`Could not delete audio file: ${fullPath}`, error);\n    }\n  }\n\n  /**\n   * Validate that a file is a supported audio format\n   * @param filePath - Path to the file to validate\n   * @returns true if the file is a valid audio file\n   */\n  async validateAudioFile(filePath: string): Promise<boolean> {\n    const supportedExtensions = ['.mp3', '.wav', '.ogg', '.m4a', '.aac'];\n    const fileExt = path.extname(filePath).toLowerCase();\n    \n    // Check extension\n    if (!supportedExtensions.includes(fileExt)) {\n      return false;\n    }\n\n    // Check if file exists and is readable\n    try {\n      const stats = await fs.stat(filePath);\n      return stats.isFile() && stats.size > 0;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Get the MIME type for an audio file\n   * @param filePath - Path to the audio file\n   * @returns MIME type string\n   */\n  getAudioMimeType(filePath: string): string {\n    const ext = path.extname(filePath).toLowerCase();\n    const mimeTypes: Record<string, string> = {\n      '.mp3': 'audio/mpeg',\n      '.wav': 'audio/wav',\n      '.ogg': 'audio/ogg',\n      '.m4a': 'audio/mp4',\n      '.aac': 'audio/aac'\n    };\n    \n    return mimeTypes[ext] || 'audio/mpeg';\n  }\n\n  /**\n   * Get the full path to an audio file in the app's audio directory\n   * @param audioFileName - The internal filename\n   * @returns Full path to the audio file\n   */\n  getAudioFilePath(audioFileName: string): string {\n    return path.join(this.audioDir, audioFileName);\n  }\n\n  /**\n   * Check if an audio file exists in the app's audio directory\n   * @param audioFileName - The internal filename\n   * @returns true if the file exists\n   */\n  async audioFileExists(audioFileName: string): Promise<boolean> {\n    try {\n      const fullPath = this.getAudioFilePath(audioFileName);\n      await fs.access(fullPath);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Get the audio directory path\n   */\n  getAudioDirectory(): string {\n    return this.audioDir;\n  }\n}\n\n// Export a singleton instance\nexport const audioFileService = new AudioFileService();\n\n\n","import { app, BrowserWindow, ipcMain, dialog } from 'electron';\nimport * as path from 'path';\nimport { Database } from 'sqlite3';\nimport * as fs from 'fs/promises';\nimport { audioFileService } from '../utils/audioFileService';\n\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\nif (require('electron-squirrel-startup')) {\n  app.quit();\n}\n\nlet mainWindow: BrowserWindow;\nlet database: Database;\n\nconst createWindow = (): void => {\n  // Create the browser window.\n  mainWindow = new BrowserWindow({\n    height: 800,\n    width: 1200,\n    minHeight: 600,\n    minWidth: 800,\n    titleBarStyle: 'hiddenInset',\n    webPreferences: {\n      nodeIntegration: false,\n      contextIsolation: true,\n      preload: path.join(__dirname, 'preload.js'),\n    },\n  });\n\n  // Load the app.\n  if (process.env.NODE_ENV === 'development') {\n    mainWindow.loadURL('http://localhost:9000');\n    mainWindow.webContents.openDevTools();\n  } else {\n    mainWindow.loadFile(path.join(__dirname, '../renderer/index.html'));\n  }\n};\n\nconst initDatabase = (): void => {\n  const dbPath = path.join(app.getPath('userData'), 'dear-bones.db');\n  database = new Database(dbPath);\n\n  // Create tables if they don't exist\n  database.serialize(() => {\n    database.run(`\n      CREATE TABLE IF NOT EXISTS decks (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT,\n        emoji TEXT,\n        tags TEXT,\n        created_at INTEGER NOT NULL,\n        updated_at INTEGER NOT NULL,\n        card_count INTEGER DEFAULT 0\n      )\n    `);\n\n    database.run(`\n      CREATE TABLE IF NOT EXISTS cards (\n        id TEXT PRIMARY KEY,\n        deck_id TEXT NOT NULL,\n        front TEXT,\n        back TEXT NOT NULL,\n        type TEXT DEFAULT 'text',\n        front_audio_path TEXT,\n        front_audio_name TEXT,\n        tags TEXT,\n        created_at INTEGER NOT NULL,\n        updated_at INTEGER NOT NULL,\n        last_studied INTEGER,\n        study_count INTEGER DEFAULT 0,\n        difficulty REAL DEFAULT 0,\n        interval INTEGER DEFAULT 1,\n        ease_factor REAL DEFAULT 2.5,\n        FOREIGN KEY (deck_id) REFERENCES decks (id) ON DELETE CASCADE\n      )\n    `);\n\n    database.run(`\n      CREATE TABLE IF NOT EXISTS study_sessions (\n        id TEXT PRIMARY KEY,\n        deck_id TEXT NOT NULL,\n        card_id TEXT NOT NULL,\n        confidence INTEGER NOT NULL,\n        response_time INTEGER NOT NULL,\n        studied_at INTEGER NOT NULL,\n        FOREIGN KEY (deck_id) REFERENCES decks (id) ON DELETE CASCADE,\n        FOREIGN KEY (card_id) REFERENCES cards (id) ON DELETE CASCADE\n      )\n    `);\n\n    database.run(`\n      CREATE TABLE IF NOT EXISTS settings (\n        key TEXT PRIMARY KEY,\n        value TEXT NOT NULL\n      )\n    `, (err) => {\n      if (err) {\n        console.error('Error creating settings table:', err);\n      } else {\n        // Migrate existing database to support card types\n        migrateDatabase(() => {\n          // Seed database after tables are created and migrated\n          seedDatabase();\n        });\n      }\n    });\n  });\n};\n\nconst migrateDatabase = (callback: () => void): void => {\n  console.log('Checking for database migrations...');\n  \n  // Check if the type column exists\n  database.all(\"PRAGMA table_info(cards)\", (err, rows: any[]) => {\n    if (err) {\n      console.error('Error checking table info:', err);\n      callback();\n      return;\n    }\n    \n    const hasTypeColumn = rows.some(row => row.name === 'type');\n    const hasFrontAudioPathColumn = rows.some(row => row.name === 'front_audio_path');\n    const hasFrontAudioNameColumn = rows.some(row => row.name === 'front_audio_name');\n    \n    let migrationsNeeded = 0;\n    let migrationsCompleted = 0;\n    \n    const completeMigration = () => {\n      migrationsCompleted++;\n      if (migrationsCompleted === migrationsNeeded) {\n        console.log('Database migration completed');\n        callback();\n      }\n    };\n    \n    // Add type column if missing\n    if (!hasTypeColumn) {\n      migrationsNeeded++;\n      database.run(\"ALTER TABLE cards ADD COLUMN type TEXT DEFAULT 'text'\", (err) => {\n        if (err) console.error('Error adding type column:', err);\n        else console.log('Added type column to cards table');\n        completeMigration();\n      });\n    }\n    \n    // Add front_audio_path column if missing\n    if (!hasFrontAudioPathColumn) {\n      migrationsNeeded++;\n      database.run(\"ALTER TABLE cards ADD COLUMN front_audio_path TEXT\", (err) => {\n        if (err) console.error('Error adding front_audio_path column:', err);\n        else console.log('Added front_audio_path column to cards table');\n        completeMigration();\n      });\n    }\n    \n    // Add front_audio_name column if missing\n    if (!hasFrontAudioNameColumn) {\n      migrationsNeeded++;\n      database.run(\"ALTER TABLE cards ADD COLUMN front_audio_name TEXT\", (err) => {\n        if (err) console.error('Error adding front_audio_name column:', err);\n        else console.log('Added front_audio_name column to cards table');\n        completeMigration();\n      });\n    }\n    \n    // If no migrations needed, just call the callback\n    if (migrationsNeeded === 0) {\n      console.log('No database migrations needed');\n      callback();\n    }\n  });\n};\n\n// This method will be called when Electron has finished initialization\napp.whenReady().then(() => {\n  createWindow();\n  initDatabase();\n\n  app.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) {\n      createWindow();\n    }\n  });\n});\n\n// Quit when all windows are closed, except on macOS\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') {\n    app.quit();\n  }\n});\n\n// Database IPC handlers\nipcMain.handle('db-get-decks', () => {\n  return new Promise((resolve, reject) => {\n    database.all('SELECT * FROM decks ORDER BY updated_at DESC', (err, rows) => {\n      if (err) reject(err);\n      else {\n        // Parse tags JSON and convert timestamps to Date objects\n        const decks = rows.map((row: any) => ({\n          ...row,\n          tags: JSON.parse(row.tags || '[]'),\n          createdAt: new Date(row.created_at),\n          updatedAt: new Date(row.updated_at),\n          cardCount: row.card_count\n        }));\n        resolve(decks);\n      }\n    });\n  });\n});\n\nipcMain.handle('db-create-deck', (event, deck) => {\n  return new Promise((resolve, reject) => {\n    const stmt = database.prepare(`\n      INSERT INTO decks (id, name, description, emoji, tags, created_at, updated_at)\n      VALUES (?, ?, ?, ?, ?, ?, ?)\n    `);\n    \n    stmt.run([\n      deck.id,\n      deck.name,\n      deck.description,\n      deck.emoji,\n      JSON.stringify(deck.tags),\n      Date.now(),\n      Date.now()\n    ], function(err) {\n      if (err) reject(err);\n      else resolve({ id: deck.id });\n    });\n    \n    stmt.finalize();\n  });\n});\n\nipcMain.handle('db-update-deck', (event, id, updates) => {\n  return new Promise((resolve, reject) => {\n    const fields = [];\n    const values = [];\n    \n    if (updates.name !== undefined) {\n      fields.push('name = ?');\n      values.push(updates.name);\n    }\n    if (updates.description !== undefined) {\n      fields.push('description = ?');\n      values.push(updates.description);\n    }\n    if (updates.emoji !== undefined) {\n      fields.push('emoji = ?');\n      values.push(updates.emoji);\n    }\n    if (updates.tags !== undefined) {\n      fields.push('tags = ?');\n      values.push(JSON.stringify(updates.tags));\n    }\n    \n    fields.push('updated_at = ?');\n    values.push(Date.now());\n    values.push(id);\n    \n    const stmt = database.prepare(`\n      UPDATE decks SET ${fields.join(', ')} WHERE id = ?\n    `);\n    \n    stmt.run(values, function(err) {\n      if (err) reject(err);\n      else resolve({ changes: this.changes });\n    });\n    \n    stmt.finalize();\n  });\n});\n\nipcMain.handle('db-delete-deck', (event, id) => {\n  return new Promise((resolve, reject) => {\n    // Delete cards first (due to foreign key constraint)\n    database.run('DELETE FROM cards WHERE deck_id = ?', [id], (err) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      // Then delete the deck\n      database.run('DELETE FROM decks WHERE id = ?', [id], function(err) {\n        if (err) reject(err);\n        else resolve({ changes: this.changes });\n      });\n    });\n  });\n});\n\nipcMain.handle('db-get-cards', (event, deckId) => {\n  return new Promise((resolve, reject) => {\n    database.all('SELECT * FROM cards WHERE deck_id = ? ORDER BY updated_at DESC', [deckId], (err, rows) => {\n      if (err) reject(err);\n      else {\n        // Parse tags JSON and convert timestamps to Date objects\n        const cards = rows.map((row: any) => ({\n          ...row,\n          deckId: row.deck_id,\n          type: row.type || 'text',\n          frontAudioPath: row.front_audio_path,\n          frontAudioName: row.front_audio_name,\n          tags: JSON.parse(row.tags || '[]'),\n          createdAt: new Date(row.created_at),\n          updatedAt: new Date(row.updated_at),\n          lastStudied: row.last_studied ? new Date(row.last_studied) : undefined,\n          studyCount: row.study_count,\n          easeFactor: row.ease_factor\n        }));\n        resolve(cards);\n      }\n    });\n  });\n});\n\nipcMain.handle('db-create-card', (event, card) => {\n  return new Promise((resolve, reject) => {\n    const stmt = database.prepare(`\n      INSERT INTO cards (id, deck_id, front, back, type, front_audio_path, front_audio_name, tags, created_at, updated_at, study_count, difficulty, interval, ease_factor)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    `);\n    \n    stmt.run([\n      card.id,\n      card.deckId,\n      card.front || null,\n      card.back,\n      card.type || 'text',\n      card.frontAudioPath || null,\n      card.frontAudioName || null,\n      JSON.stringify(card.tags),\n      Date.now(),\n      Date.now(),\n      card.studyCount || 0,\n      card.difficulty || 0,\n      card.interval || 1,\n      card.easeFactor || 2.5\n    ], function(err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      // Update deck card count\n      database.run(\n        'UPDATE decks SET card_count = card_count + 1, updated_at = ? WHERE id = ?',\n        [Date.now(), card.deckId],\n        (err) => {\n          if (err) reject(err);\n          else resolve({ id: card.id });\n        }\n      );\n    });\n    \n    stmt.finalize();\n  });\n});\n\nipcMain.handle('db-update-card', (event, id, updates) => {\n  return new Promise((resolve, reject) => {\n    const fields = [];\n    const values = [];\n    \n    if (updates.front !== undefined) {\n      fields.push('front = ?');\n      values.push(updates.front);\n    }\n    if (updates.back !== undefined) {\n      fields.push('back = ?');\n      values.push(updates.back);\n    }\n    if (updates.type !== undefined) {\n      fields.push('type = ?');\n      values.push(updates.type);\n    }\n    if (updates.frontAudioPath !== undefined) {\n      fields.push('front_audio_path = ?');\n      values.push(updates.frontAudioPath);\n    }\n    if (updates.frontAudioName !== undefined) {\n      fields.push('front_audio_name = ?');\n      values.push(updates.frontAudioName);\n    }\n    if (updates.tags !== undefined) {\n      fields.push('tags = ?');\n      values.push(JSON.stringify(updates.tags));\n    }\n    if (updates.lastStudied !== undefined) {\n      fields.push('last_studied = ?');\n      values.push(updates.lastStudied instanceof Date ? updates.lastStudied.getTime() : updates.lastStudied);\n    }\n    if (updates.studyCount !== undefined) {\n      fields.push('study_count = ?');\n      values.push(updates.studyCount);\n    }\n    if (updates.difficulty !== undefined) {\n      fields.push('difficulty = ?');\n      values.push(updates.difficulty);\n    }\n    if (updates.interval !== undefined) {\n      fields.push('interval = ?');\n      values.push(updates.interval);\n    }\n    if (updates.easeFactor !== undefined) {\n      fields.push('ease_factor = ?');\n      values.push(updates.easeFactor);\n    }\n    \n    fields.push('updated_at = ?');\n    values.push(Date.now());\n    values.push(id);\n    \n    const stmt = database.prepare(`\n      UPDATE cards SET ${fields.join(', ')} WHERE id = ?\n    `);\n    \n    stmt.run(values, function(err) {\n      if (err) reject(err);\n      else resolve({ changes: this.changes });\n    });\n    \n    stmt.finalize();\n  });\n});\n\nipcMain.handle('db-delete-card', (event, id) => {\n  return new Promise((resolve, reject) => {\n    // First get the deck_id to update card count\n    database.get('SELECT deck_id FROM cards WHERE id = ?', [id], (err, row: any) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      if (!row) {\n        resolve({ changes: 0 });\n        return;\n      }\n      \n      const deckId = row.deck_id;\n      \n      // Delete the card\n      database.run('DELETE FROM cards WHERE id = ?', [id], function(err) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        \n        // Update deck card count\n        database.run(\n          'UPDATE decks SET card_count = card_count - 1, updated_at = ? WHERE id = ?',\n          [Date.now(), deckId],\n          (err) => {\n            if (err) reject(err);\n            else resolve({ changes: this.changes });\n          }\n        );\n      });\n    });\n  });\n});\n\nipcMain.handle('db-get-study-sessions', (event, deckId) => {\n  return new Promise((resolve, reject) => {\n    const query = deckId \n      ? 'SELECT * FROM study_sessions WHERE deck_id = ? ORDER BY studied_at DESC'\n      : 'SELECT * FROM study_sessions ORDER BY studied_at DESC';\n    const params = deckId ? [deckId] : [];\n    \n    database.all(query, params, (err, rows) => {\n      if (err) reject(err);\n      else {\n        const sessions = rows.map((row: any) => ({\n          ...row,\n          deckId: row.deck_id,\n          cardId: row.card_id,\n          responseTime: row.response_time,\n          studiedAt: new Date(row.studied_at)\n        }));\n        resolve(sessions);\n      }\n    });\n  });\n});\n\nipcMain.handle('db-create-study-session', (event, session) => {\n  return new Promise((resolve, reject) => {\n    const stmt = database.prepare(`\n      INSERT INTO study_sessions (id, deck_id, card_id, confidence, response_time, studied_at)\n      VALUES (?, ?, ?, ?, ?, ?)\n    `);\n    \n    stmt.run([\n      session.id,\n      session.deckId,\n      session.cardId,\n      session.confidence,\n      session.responseTime,\n      Date.now()\n    ], function(err) {\n      if (err) reject(err);\n      else resolve({ id: session.id });\n    });\n    \n    stmt.finalize();\n  });\n});\n\nipcMain.handle('db-get-settings', () => {\n  return new Promise((resolve, reject) => {\n    database.all('SELECT * FROM settings', (err, rows) => {\n      if (err) reject(err);\n      else {\n        const settings: Record<string, any> = {};\n        rows.forEach((row: any) => {\n          try {\n            settings[row.key] = JSON.parse(row.value);\n          } catch {\n            settings[row.key] = row.value;\n          }\n        });\n        resolve(settings);\n      }\n    });\n  });\n});\n\nipcMain.handle('db-update-setting', (event, key, value) => {\n  return new Promise((resolve, reject) => {\n    const stmt = database.prepare(`\n      INSERT OR REPLACE INTO settings (key, value) VALUES (?, ?)\n    `);\n    \n    stmt.run([key, JSON.stringify(value)], function(err) {\n      if (err) reject(err);\n      else resolve({ key, value });\n    });\n    \n    stmt.finalize();\n  });\n});\n\n// Audio file IPC handlers\nipcMain.handle('audio-import-file', async (event, sourcePath: string) => {\n  try {\n    const result = await audioFileService.copyAudioFile(sourcePath);\n    return { success: true, audioId: result.id, internalPath: result.internalPath };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to import audio file'\n    };\n  }\n});\n\nipcMain.handle('audio-delete-file', async (event, audioFileName: string) => {\n  try {\n    await audioFileService.deleteAudioFile(audioFileName);\n    return { success: true };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to delete audio file'\n    };\n  }\n});\n\nipcMain.handle('audio-validate-file', async (event, filePath: string) => {\n  try {\n    const isValid = await audioFileService.validateAudioFile(filePath);\n    return { success: true, isValid };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to validate audio file'\n    };\n  }\n});\n\nipcMain.handle('audio-get-file-path', async (event, audioFileName: string) => {\n  try {\n    const fullPath = audioFileService.getAudioFilePath(audioFileName);\n    const exists = await audioFileService.audioFileExists(audioFileName);\n    return { success: true, fullPath, exists };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to get audio file path'\n    };\n  }\n});\n\n// CSV Utility Functions\nconst parseCSVRow = (row: string): string[] => {\n  const result: string[] = [];\n  let current = '';\n  let inQuotes = false;\n  let i = 0;\n\n  while (i < row.length) {\n    const char = row[i];\n    const nextChar = row[i + 1];\n\n    if (char === '\"') {\n      if (inQuotes && nextChar === '\"') {\n        // Escaped quote\n        current += '\"';\n        i += 2;\n      } else {\n        // Toggle quote state\n        inQuotes = !inQuotes;\n        i++;\n      }\n    } else if (char === ',' && !inQuotes) {\n      result.push(current.trim());\n      current = '';\n      i++;\n    } else {\n      current += char;\n      i++;\n    }\n  }\n\n  result.push(current.trim());\n  return result;\n};\n\nconst generateCSVData = async (deckId?: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const query = deckId \n      ? `SELECT c.*, d.name as deck_name, d.emoji as deck_emoji \n         FROM cards c JOIN decks d ON c.deck_id = d.id \n         WHERE c.deck_id = ? \n         ORDER BY c.created_at`\n      : `SELECT c.*, d.name as deck_name, d.emoji as deck_emoji \n         FROM cards c JOIN decks d ON c.deck_id = d.id \n         ORDER BY d.name, c.created_at`;\n    \n    const params = deckId ? [deckId] : [];\n    \n    database.all(query, params, (err, rows) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      const csvRows: string[] = [];\n      \n      // Header row\n      if (deckId) {\n        csvRows.push('Type,Front,Front Audio File,Front Audio Name,Back,Tags,Difficulty,Interval,Study Count');\n      } else {\n        csvRows.push('Deck Name,Deck Emoji,Type,Front,Front Audio File,Front Audio Name,Back,Tags,Difficulty,Interval,Study Count');\n      }\n      \n      // Data rows\n      rows.forEach((row: any) => {\n        const tags = JSON.parse(row.tags || '[]').join(';');\n        const cardType = row.type || 'text';\n        const front = row.front || '';\n        const frontAudioFile = row.front_audio_path || '';\n        const frontAudioName = row.front_audio_name || '';\n        \n        const csvRow = deckId \n          ? [cardType, front, frontAudioFile, frontAudioName, row.back, tags, row.difficulty.toString(), row.interval.toString(), row.study_count.toString()]\n          : [row.deck_name, row.deck_emoji || '', cardType, front, frontAudioFile, frontAudioName, row.back, tags, row.difficulty.toString(), row.interval.toString(), row.study_count.toString()];\n        \n        // Escape quotes and wrap fields with commas or quotes in quotes\n        const escapedRow = csvRow.map(field => {\n          const str = String(field);\n          if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n            return `\"${str.replace(/\"/g, '\"\"')}\"`;\n          }\n          return str;\n        });\n        \n        csvRows.push(escapedRow.join(','));\n      });\n      \n      resolve(csvRows.join('\\n'));\n    });\n  });\n};\n\nconst parseAndImportCSV = async (filePath: string, targetDeckId?: string): Promise<any> => {\n  try {\n    const content = await fs.readFile(filePath, 'utf-8');\n    \n    // Parse CSV content character by character to handle quoted fields with line breaks\n    const parseCSVContent = (csvContent: string): string[][] => {\n      const rows: string[][] = [];\n      let currentRow: string[] = [];\n      let currentField = '';\n      let inQuotes = false;\n      let i = 0;\n      \n      while (i < csvContent.length) {\n        const char = csvContent[i];\n        const nextChar = csvContent[i + 1];\n        \n        if (char === '\"') {\n          if (inQuotes && nextChar === '\"') {\n            // Escaped quote\n            currentField += '\"';\n            i += 2;\n          } else {\n            // Toggle quote state\n            inQuotes = !inQuotes;\n            i++;\n          }\n        } else if (char === ',' && !inQuotes) {\n          // End of field\n          currentRow.push(currentField.trim());\n          currentField = '';\n          i++;\n        } else if (char === '\\n' && !inQuotes) {\n          // End of row (only if not in quotes)\n          currentRow.push(currentField.trim());\n          if (currentRow.some(field => field.length > 0)) {\n            rows.push(currentRow);\n          }\n          currentRow = [];\n          currentField = '';\n          i++;\n        } else if (char === '\\r') {\n          // Skip carriage return\n          i++;\n        } else {\n          // Regular character\n          currentField += char;\n          i++;\n        }\n      }\n      \n      // Handle last field and row\n      if (currentField.trim() || currentRow.length > 0) {\n        currentRow.push(currentField.trim());\n        if (currentRow.some(field => field.length > 0)) {\n          rows.push(currentRow);\n        }\n      }\n      \n      return rows;\n    };\n    \n    const rows = parseCSVContent(content);\n    \n    if (rows.length < 2) {\n      throw new Error('CSV file must have at least a header and one data row');\n    }\n    \n    const headers = rows[0].map(h => h.toLowerCase().trim());\n    const results = {\n      success: true,\n      imported: 0,\n      errors: [] as string[],\n      decksCreated: [] as string[]\n    };\n    \n    // Validate required headers\n    const backIndex = headers.findIndex(h => h.includes('back'));\n    \n    if (backIndex === -1) {\n      throw new Error('CSV must contain Back column');\n    }\n    \n    // Find column indices for all supported fields\n    const typeIndex = headers.findIndex(h => h.includes('type'));\n    const frontIndex = headers.findIndex(h => h.includes('front') && !h.includes('audio'));\n    const frontAudioFileIndex = headers.findIndex(h => h.includes('front') && h.includes('audio') && h.includes('file'));\n    const frontAudioNameIndex = headers.findIndex(h => h.includes('front') && h.includes('audio') && h.includes('name'));\n    const tagsIndex = headers.findIndex(h => h.includes('tag'));\n    const deckNameIndex = headers.findIndex(h => h.includes('deck') && h.includes('name'));\n    const deckEmojiIndex = headers.findIndex(h => h.includes('deck') && h.includes('emoji'));\n    const difficultyIndex = headers.findIndex(h => h.includes('difficulty'));\n    const intervalIndex = headers.findIndex(h => h.includes('interval'));\n    const studyCountIndex = headers.findIndex(h => h.includes('study') && h.includes('count'));\n    \n    // Process each row (skip header)\n    for (let i = 1; i < rows.length; i++) {\n      try {\n        const row = rows[i];\n        \n        if (row.length < backIndex + 1) {\n          results.errors.push(`Row ${i + 1}: Insufficient columns`);\n          continue;\n        }\n        \n        const back = row[backIndex]?.trim();\n        if (!back) {\n          results.errors.push(`Row ${i + 1}: Back is required`);\n          continue;\n        }\n        \n        // Determine card type\n        const cardType = typeIndex >= 0 ? (row[typeIndex]?.trim() || 'text') : 'text';\n        const front = frontIndex >= 0 ? (row[frontIndex]?.trim() || '') : '';\n        const frontAudioFile = frontAudioFileIndex >= 0 ? (row[frontAudioFileIndex]?.trim() || '') : '';\n        const frontAudioName = frontAudioNameIndex >= 0 ? (row[frontAudioNameIndex]?.trim() || '') : '';\n        \n        // Validate card type specific requirements\n        if (cardType === 'text' && !front) {\n          results.errors.push(`Row ${i + 1}: Text cards require Front text`);\n          continue;\n        }\n        if ((cardType === 'audio' || cardType === 'mixed') && !frontAudioFile) {\n          results.errors.push(`Row ${i + 1}: Audio/Mixed cards require Front Audio File`);\n          continue;\n        }\n        if (cardType === 'mixed' && !front) {\n          results.errors.push(`Row ${i + 1}: Mixed cards require both Front text and audio`);\n          continue;\n        }\n        \n        // Determine target deck\n        let deckId = targetDeckId;\n        \n        if (!deckId && deckNameIndex >= 0) {\n          const deckName = row[deckNameIndex]?.trim();\n          if (deckName) {\n            deckId = await findOrCreateDeck(deckName, row[deckEmojiIndex]?.trim() || '', results);\n          } else {\n            results.errors.push(`Row ${i + 1}: No deck specified`);\n            continue;\n          }\n        } else if (!deckId) {\n          results.errors.push(`Row ${i + 1}: No target deck specified`);\n          continue;\n        }\n        \n        // Parse tags\n        const tags = tagsIndex >= 0 ? (row[tagsIndex]?.split(';').filter(t => t.trim()) || []) : [];\n        \n        // Parse optional fields\n        const difficulty = difficultyIndex >= 0 ? parseFloat(row[difficultyIndex]) || 0 : 0;\n        const interval = intervalIndex >= 0 ? parseInt(row[intervalIndex]) || 1 : 1;\n        const studyCount = studyCountIndex >= 0 ? parseInt(row[studyCountIndex]) || 0 : 0;\n        \n        // Handle audio file import if specified\n        let finalAudioPath = '';\n        let finalAudioName = frontAudioName;\n        \n        if ((cardType === 'audio' || cardType === 'mixed') && frontAudioFile) {\n          try {\n            // Resolve audio file path relative to CSV file\n            const csvDir = path.dirname(filePath);\n            let audioFilePath = frontAudioFile;\n            \n            // If not absolute path, resolve relative to CSV file\n            if (!path.isAbsolute(audioFilePath)) {\n              audioFilePath = path.resolve(csvDir, audioFilePath);\n            }\n            \n            // Import the audio file\n            const audioResult = await audioFileService.copyAudioFile(audioFilePath);\n            finalAudioPath = audioResult.internalPath;\n            \n            // Use provided name or fall back to filename\n            if (!finalAudioName) {\n              finalAudioName = path.basename(audioFilePath);\n            }\n            \n            console.log(`Imported audio file: ${audioFilePath} -> ${finalAudioPath}`);\n          } catch (audioError) {\n            results.errors.push(`Row ${i + 1}: Audio file error - ${audioError instanceof Error ? audioError.message : 'Unknown error'}`);\n            continue;\n          }\n        }\n        \n        // Create card\n        await createCardFromImport(deckId, front, back, tags, difficulty, interval, studyCount, cardType, finalAudioPath, finalAudioName);\n        results.imported++;\n        \n      } catch (error) {\n        results.errors.push(`Row ${i + 1}: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      }\n    }\n    \n    return results;\n    \n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to import CSV'\n    };\n  }\n};\n\nconst findOrCreateDeck = async (name: string, emoji: string, results: any): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    // First try to find existing deck\n    database.get('SELECT id FROM decks WHERE name = ?', [name], (err, row: any) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      if (row) {\n        resolve(row.id);\n        return;\n      }\n      \n      // Create new deck\n      const deckId = Date.now().toString() + '_' + Math.random().toString(36).substr(2, 9);\n      const stmt = database.prepare(`\n        INSERT INTO decks (id, name, description, emoji, tags, created_at, updated_at, card_count)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n      \n      stmt.run([\n        deckId,\n        name,\n        `Imported from CSV`,\n        emoji,\n        JSON.stringify([]),\n        Date.now(),\n        Date.now(),\n        0\n      ], function(err) {\n        if (err) {\n          reject(err);\n        } else {\n          results.decksCreated.push(name);\n          resolve(deckId);\n        }\n      });\n      \n      stmt.finalize();\n    });\n  });\n};\n\nconst createCardFromImport = async (deckId: string, front: string, back: string, tags: string[], difficulty: number, interval: number, studyCount: number, type: string = 'text', frontAudioPath?: string, frontAudioName?: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    const cardId = Date.now().toString() + '_' + Math.random().toString(36).substr(2, 9);\n    const stmt = database.prepare(`\n      INSERT INTO cards (id, deck_id, front, back, type, front_audio_path, front_audio_name, tags, created_at, updated_at, study_count, difficulty, interval, ease_factor)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    `);\n    \n    stmt.run([\n      cardId,\n      deckId,\n      front || null,\n      back,\n      type,\n      frontAudioPath || null,\n      frontAudioName || null,\n      JSON.stringify(tags),\n      Date.now(),\n      Date.now(),\n      studyCount,\n      difficulty,\n      interval,\n      2.5 // Default ease factor\n    ], function(err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      \n      // Update deck card count\n      database.run(\n        'UPDATE decks SET card_count = card_count + 1, updated_at = ? WHERE id = ?',\n        [Date.now(), deckId],\n        (err) => {\n          if (err) reject(err);\n          else resolve();\n        }\n      );\n    });\n    \n    stmt.finalize();\n  });\n};\n\n// Export/Import handlers\nipcMain.handle('export-csv', async (event, deckId?: string) => {\n  try {\n    const deckName = deckId ? await getDeckName(deckId) : 'all-decks';\n    const result = await dialog.showSaveDialog(mainWindow, {\n      defaultPath: `${deckName}.csv`,\n      filters: [\n        { name: 'CSV Files', extensions: ['csv'] },\n        { name: 'All Files', extensions: ['*'] }\n      ]\n    });\n\n    if (!result.canceled && result.filePath) {\n      try {\n        const csvData = await generateCSVData(deckId);\n        await fs.writeFile(result.filePath, csvData, 'utf-8');\n        return { success: true, filePath: result.filePath };\n      } catch (error) {\n        return { \n          success: false, \n          error: error instanceof Error ? error.message : 'Failed to export CSV' \n        };\n      }\n    }\n    return { success: false, error: 'Export cancelled' };\n  } catch (error) {\n    return { \n      success: false, \n      error: error instanceof Error ? error.message : 'Export failed' \n    };\n  }\n});\n\nipcMain.handle('import-csv', async (event, targetDeckId?: string) => {\n  try {\n    const result = await dialog.showOpenDialog(mainWindow, {\n      filters: [\n        { name: 'CSV Files', extensions: ['csv'] },\n        { name: 'All Files', extensions: ['*'] }\n      ],\n      properties: ['openFile']\n    });\n\n    if (!result.canceled && result.filePaths.length > 0) {\n      const importResult = await parseAndImportCSV(result.filePaths[0], targetDeckId);\n      return importResult;\n    }\n    return { success: false, error: 'Import cancelled' };\n  } catch (error) {\n    return { \n      success: false, \n      error: error instanceof Error ? error.message : 'Import failed' \n    };\n  }\n});\n\nconst getDeckName = async (deckId: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    database.get('SELECT name FROM decks WHERE id = ?', [deckId], (err, row: any) => {\n      if (err) {\n        reject(err);\n      } else if (row) {\n        // Replace spaces and special characters for filename\n        const safeName = row.name.replace(/[^a-zA-Z0-9]/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');\n        resolve(safeName || 'deck');\n      } else {\n        resolve('deck');\n      }\n    });\n  });\n};\n\n// Seed database with sample data if empty\nconst seedDatabase = (): void => {\n  database.get('SELECT COUNT(*) as count FROM decks', (err, row: any) => {\n    if (err) {\n      console.error('Error checking deck count:', err);\n      return;\n    }\n\n    if (row.count === 0) {\n      console.log('Seeding database with sample data...');\n      \n      const sampleDecks = [\n        {\n          id: '1',\n          name: 'Spanish Vocabulary',\n          description: 'Essential Spanish words and phrases',\n          emoji: '',\n          tags: ['language', 'spanish'],\n        },\n        {\n          id: '2',\n          name: 'Biology Terms',\n          description: 'Key concepts in biology',\n          emoji: '',\n          tags: ['science', 'biology'],\n        },\n      ];\n\n      const sampleCards = [\n        {\n          id: '1',\n          deckId: '1',\n          front: 'Hello',\n          back: 'Hola',\n          tags: ['greetings'],\n        },\n        {\n          id: '2',\n          deckId: '1',\n          front: 'Thank you',\n          back: 'Gracias',\n          tags: ['greetings'],\n        },\n        {\n          id: '3',\n          deckId: '1',\n          front: 'Goodbye',\n          back: 'Adis',\n          tags: ['greetings'],\n        },\n        {\n          id: '4',\n          deckId: '2',\n          front: 'Cell',\n          back: 'The basic unit of life',\n          tags: ['basic'],\n        },\n        {\n          id: '5',\n          deckId: '2',\n          front: 'DNA',\n          back: 'Deoxyribonucleic acid - carries genetic information',\n          tags: ['genetics'],\n        },\n      ];\n\n      // Insert sample decks\n      const deckStmt = database.prepare(`\n        INSERT INTO decks (id, name, description, emoji, tags, created_at, updated_at, card_count)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n\n      sampleDecks.forEach(deck => {\n        const cardCount = sampleCards.filter(card => card.deckId === deck.id).length;\n        deckStmt.run([\n          deck.id,\n          deck.name,\n          deck.description,\n          deck.emoji,\n          JSON.stringify(deck.tags),\n          Date.now(),\n          Date.now(),\n          cardCount\n        ]);\n      });\n      deckStmt.finalize();\n\n      // Insert sample cards\n      const cardStmt = database.prepare(`\n        INSERT INTO cards (id, deck_id, front, back, tags, created_at, updated_at, study_count, difficulty, interval, ease_factor)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n\n      sampleCards.forEach(card => {\n        cardStmt.run([\n          card.id,\n          card.deckId,\n          card.front,\n          card.back,\n          JSON.stringify(card.tags),\n          Date.now(),\n          Date.now(),\n          0,\n          0,\n          1,\n          2.5\n        ]);\n      });\n      cardStmt.finalize();\n\n      console.log('Sample data seeded successfully');\n    }\n  });\n};\n\napp.on('before-quit', () => {\n  if (database) {\n    database.close();\n  }\n}); "],"names":["module","exports","require","tty","util","init","debug","inspectOpts","keys","Object","i","length","log","stream","write","format","apply","arguments","formatArgs","args","name","this","namespace","useColors","c","color","prefix","split","join","push","humanize","diff","Date","toUTCString","save","namespaces","process","env","DEBUG","load","Boolean","colors","isatty","fd","filter","key","test","reduce","obj","prop","substring","toLowerCase","replace","_","k","toUpperCase","val","Number","parseInt","DEBUG_FD","deprecate","stdout","stderr","binding","guessHandleType","WriteStream","_type","_handle","unref","SyncWriteStream","autoClose","Socket","readable","writable","read","Error","_isStdio","createWritableStdioStream","formatters","o","v","inspect","map","str","trim","O","enable","path","spawn","app","run","done","updateExe","resolve","dirname","execPath","detached","on","platform","cmd","argv","target","basename","quit","check","s","m","h","d","plural","ms","n","Math","floor","ceil","options","type","String","match","exec","parseFloat","parse","isNaN","long","round","fmtShort","JSON","stringify","r","storage","e","console","Function","prototype","call","splice","index","lastC","removeItem","window","document","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","RegExp","$1","chrome","local","localStorage","localstorage","j","err","message","prevTime","createDebug","enabled","self","curr","prev","Array","coerce","unshift","formatter","bind","hash","charCodeAt","abs","selectColor","stack","disable","names","skips","len","substr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","audioFileService","constructor","audioDir","getPath","initialize","fs","error","recursive","generateAudioId","now","random","toString","copyAudioFile","sourcePath","validateAudioFile","audioId","internalFileName","internalPath","id","deleteAudioFile","audioFileName","fullPath","warn","filePath","fileExt","includes","stats","isFile","size","getAudioMimeType","getAudioFilePath","audioFileExists","getAudioDirectory","mainWindow","database","createWindow","BrowserWindow","height","width","minHeight","minWidth","titleBarStyle","webPreferences","nodeIntegration","contextIsolation","preload","__dirname","loadFile","whenReady","then","initDatabase","dbPath","Database","serialize","callback","seedDatabase","all","rows","hasTypeColumn","some","row","hasFrontAudioPathColumn","hasFrontAudioNameColumn","migrationsNeeded","migrationsCompleted","completeMigration","getAllWindows","ipcMain","handle","Promise","reject","decks","tags","createdAt","created_at","updatedAt","updated_at","cardCount","card_count","event","deck","stmt","prepare","description","emoji","finalize","updates","fields","values","changes","deckId","cards","deck_id","frontAudioPath","front_audio_path","frontAudioName","front_audio_name","lastStudied","last_studied","studyCount","study_count","easeFactor","ease_factor","card","front","back","difficulty","interval","getTime","get","query","params","sessions","cardId","card_id","responseTime","response_time","studiedAt","studied_at","session","confidence","settings","forEach","value","async","result","success","isValid","exists","findOrCreateDeck","results","decksCreated","createCardFromImport","deckName","getDeckName","dialog","showSaveDialog","defaultPath","filters","extensions","canceled","csvData","csvRows","cardType","frontAudioFile","escapedRow","deck_name","deck_emoji","field","generateCSVData","targetDeckId","showOpenDialog","properties","filePaths","importResult","content","parseCSVContent","csvContent","currentRow","currentField","inQuotes","char","nextChar","headers","imported","errors","backIndex","findIndex","typeIndex","frontIndex","frontAudioFileIndex","frontAudioNameIndex","tagsIndex","deckNameIndex","deckEmojiIndex","difficultyIndex","intervalIndex","studyCountIndex","t","finalAudioPath","finalAudioName","csvDir","audioFilePath","audioError","parseAndImportCSV","safeName","count","sampleDecks","sampleCards","deckStmt","cardStmt","close"],"sourceRoot":""}